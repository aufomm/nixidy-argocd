apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  labels:
    app.kubernetes.io/instance: kong
    app.kubernetes.io/name: controller
  name: kong-controller-kong-validations
webhooks:
  - admissionReviewVersions:
      - v1
    clientConfig:
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURKRENDQWd5Z0F3SUJBZ0lSQUlyd1E2dzhLbWxER0I0MzNJalFtUXd3RFFZSktvWklodmNOQVFFTEJRQXcKSERFYU1CZ0dBMVVFQXhNUmEyOXVaeTFoWkcxcGMzTnBiMjR0WTJFd0hoY05NalV3TmpBMk1UTXlNak16V2hjTgpNelV3TmpBME1UTXlNak16V2pBY01Sb3dHQVlEVlFRREV4RnJiMjVuTFdGa2JXbHpjMmx2YmkxallUQ0NBU0l3CkRRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFNQUcrSDJ6V0ZkVDJidE1LTXVBWlJjMjA1UkYKTFFzaDZyZldrRXdtS2FYU21SaDFDV0NZSSs3YytvdjJWVFB3N3NiZDVIem9nTjFlcmQwakJvOVYwMkxWaEtKagp0cTFzRnZ0UDZKTVRaVG1uVXYvcDVHL2NZeldIV040ZXRmSllJZkZ5SUxtRVlNaWJNUTRaeWFWRzFVRVJtNzRICk5VSXM0VzNoaCtkeGFwK01ZRG5ueGVpRWl5QjlmZS9rWm1CRFpiVVNZeFNFMFYrOVZRQWRmbkZ4dTlHTzFvTjAKQ1o0T25uZmVpaXcra01UYUZ5WEE2dVBma3F5SGRPL1BhTlZrY2dMNWNHMGh1Q3V4T2YzUS9rTlVXNktnRWVwMwp4K0xRM3lNSXQ2TkVFRmVyeGdSdFJnM1ZtSytJSmFTSmxKUWd6RHgraUxScjFrTHN3VlNneXRMcTNBRUNBd0VBCkFhTmhNRjh3RGdZRFZSMFBBUUgvQkFRREFnS2tNQjBHQTFVZEpRUVdNQlFHQ0NzR0FRVUZCd01CQmdnckJnRUYKQlFjREFqQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01CMEdBMVVkRGdRV0JCVExtdkRkQTg1Y2NMQTVKbXZFWGYwWgpzU2wxbGpBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQUFtaU1OSzZySForYWFYejdlZ2tvYXZPVjVHM2dTUkF3Ck8xRklvRnpJbW5UMEVJUTRmTHl5TTdhVG9KUWtWK1RhWE9nTlpYSlZKd3lneVNqMTZ0TW9CZTNxdTIrS3luT08KYmZaSHUyY2diQlF5Vm1kN3V2d2Z6b1hucVJjeHUwUzFxM1dib3RCQjN1SUtGeHhwdVNSK1R2bnpZek9yL09DZQpoUmwwYWlHSWJFSXpBd21UMzZEenhCdkJlQURuSjFwdWlMNmR4cWQrbmVGNGZxY0lyVGtOczVWemhUbGg5WW1nCmdYKyt2a1Y5VXlib2NtcjI2Z0UrSjJNVy9QRWNZQWVuNnEwK0kxc0ExYUJock1xVG9EN0JzMVZJU0doK2xLK2kKT2w0M0VwTE5EdUdTNmVUOHBvaDkyVXFCU054UUU2VzhoOHR0VjdENlZTZ3dWTmtESS9RaVRBPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
      service:
        name: kong-controller-validation-webhook
        namespace: kong
    failurePolicy: Ignore
    matchPolicy: Equivalent
    name: secrets.credentials.validation.ingress-controller.konghq.com
    objectSelector:
      matchExpressions:
        - key: konghq.com/credential
          operator: Exists
        - key: konghq.com/credential
          operator: NotIn
          values:
            - konnect
    rules:
      - apiGroups:
          - ""
        apiVersions:
          - v1
        operations:
          - CREATE
          - UPDATE
        resources:
          - secrets
    sideEffects: None
  - admissionReviewVersions:
      - v1
    clientConfig:
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURKRENDQWd5Z0F3SUJBZ0lSQUlyd1E2dzhLbWxER0I0MzNJalFtUXd3RFFZSktvWklodmNOQVFFTEJRQXcKSERFYU1CZ0dBMVVFQXhNUmEyOXVaeTFoWkcxcGMzTnBiMjR0WTJFd0hoY05NalV3TmpBMk1UTXlNak16V2hjTgpNelV3TmpBME1UTXlNak16V2pBY01Sb3dHQVlEVlFRREV4RnJiMjVuTFdGa2JXbHpjMmx2YmkxallUQ0NBU0l3CkRRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFNQUcrSDJ6V0ZkVDJidE1LTXVBWlJjMjA1UkYKTFFzaDZyZldrRXdtS2FYU21SaDFDV0NZSSs3YytvdjJWVFB3N3NiZDVIem9nTjFlcmQwakJvOVYwMkxWaEtKagp0cTFzRnZ0UDZKTVRaVG1uVXYvcDVHL2NZeldIV040ZXRmSllJZkZ5SUxtRVlNaWJNUTRaeWFWRzFVRVJtNzRICk5VSXM0VzNoaCtkeGFwK01ZRG5ueGVpRWl5QjlmZS9rWm1CRFpiVVNZeFNFMFYrOVZRQWRmbkZ4dTlHTzFvTjAKQ1o0T25uZmVpaXcra01UYUZ5WEE2dVBma3F5SGRPL1BhTlZrY2dMNWNHMGh1Q3V4T2YzUS9rTlVXNktnRWVwMwp4K0xRM3lNSXQ2TkVFRmVyeGdSdFJnM1ZtSytJSmFTSmxKUWd6RHgraUxScjFrTHN3VlNneXRMcTNBRUNBd0VBCkFhTmhNRjh3RGdZRFZSMFBBUUgvQkFRREFnS2tNQjBHQTFVZEpRUVdNQlFHQ0NzR0FRVUZCd01CQmdnckJnRUYKQlFjREFqQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01CMEdBMVVkRGdRV0JCVExtdkRkQTg1Y2NMQTVKbXZFWGYwWgpzU2wxbGpBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQUFtaU1OSzZySForYWFYejdlZ2tvYXZPVjVHM2dTUkF3Ck8xRklvRnpJbW5UMEVJUTRmTHl5TTdhVG9KUWtWK1RhWE9nTlpYSlZKd3lneVNqMTZ0TW9CZTNxdTIrS3luT08KYmZaSHUyY2diQlF5Vm1kN3V2d2Z6b1hucVJjeHUwUzFxM1dib3RCQjN1SUtGeHhwdVNSK1R2bnpZek9yL09DZQpoUmwwYWlHSWJFSXpBd21UMzZEenhCdkJlQURuSjFwdWlMNmR4cWQrbmVGNGZxY0lyVGtOczVWemhUbGg5WW1nCmdYKyt2a1Y5VXlib2NtcjI2Z0UrSjJNVy9QRWNZQWVuNnEwK0kxc0ExYUJock1xVG9EN0JzMVZJU0doK2xLK2kKT2w0M0VwTE5EdUdTNmVUOHBvaDkyVXFCU054UUU2VzhoOHR0VjdENlZTZ3dWTmtESS9RaVRBPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
      service:
        name: kong-controller-validation-webhook
        namespace: kong
    failurePolicy: Ignore
    matchPolicy: Equivalent
    name: secrets.plugins.validation.ingress-controller.konghq.com
    objectSelector:
      matchExpressions:
        - key: owner
          operator: NotIn
          values:
            - helm
        - key: konghq.com/credential
          operator: NotIn
          values:
            - konnect
    rules:
      - apiGroups:
          - ""
        apiVersions:
          - v1
        operations:
          - CREATE
          - UPDATE
        resources:
          - secrets
    sideEffects: None
  - admissionReviewVersions:
      - v1beta1
    clientConfig:
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURKRENDQWd5Z0F3SUJBZ0lSQUlyd1E2dzhLbWxER0I0MzNJalFtUXd3RFFZSktvWklodmNOQVFFTEJRQXcKSERFYU1CZ0dBMVVFQXhNUmEyOXVaeTFoWkcxcGMzTnBiMjR0WTJFd0hoY05NalV3TmpBMk1UTXlNak16V2hjTgpNelV3TmpBME1UTXlNak16V2pBY01Sb3dHQVlEVlFRREV4RnJiMjVuTFdGa2JXbHpjMmx2YmkxallUQ0NBU0l3CkRRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFNQUcrSDJ6V0ZkVDJidE1LTXVBWlJjMjA1UkYKTFFzaDZyZldrRXdtS2FYU21SaDFDV0NZSSs3YytvdjJWVFB3N3NiZDVIem9nTjFlcmQwakJvOVYwMkxWaEtKagp0cTFzRnZ0UDZKTVRaVG1uVXYvcDVHL2NZeldIV040ZXRmSllJZkZ5SUxtRVlNaWJNUTRaeWFWRzFVRVJtNzRICk5VSXM0VzNoaCtkeGFwK01ZRG5ueGVpRWl5QjlmZS9rWm1CRFpiVVNZeFNFMFYrOVZRQWRmbkZ4dTlHTzFvTjAKQ1o0T25uZmVpaXcra01UYUZ5WEE2dVBma3F5SGRPL1BhTlZrY2dMNWNHMGh1Q3V4T2YzUS9rTlVXNktnRWVwMwp4K0xRM3lNSXQ2TkVFRmVyeGdSdFJnM1ZtSytJSmFTSmxKUWd6RHgraUxScjFrTHN3VlNneXRMcTNBRUNBd0VBCkFhTmhNRjh3RGdZRFZSMFBBUUgvQkFRREFnS2tNQjBHQTFVZEpRUVdNQlFHQ0NzR0FRVUZCd01CQmdnckJnRUYKQlFjREFqQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01CMEdBMVVkRGdRV0JCVExtdkRkQTg1Y2NMQTVKbXZFWGYwWgpzU2wxbGpBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQUFtaU1OSzZySForYWFYejdlZ2tvYXZPVjVHM2dTUkF3Ck8xRklvRnpJbW5UMEVJUTRmTHl5TTdhVG9KUWtWK1RhWE9nTlpYSlZKd3lneVNqMTZ0TW9CZTNxdTIrS3luT08KYmZaSHUyY2diQlF5Vm1kN3V2d2Z6b1hucVJjeHUwUzFxM1dib3RCQjN1SUtGeHhwdVNSK1R2bnpZek9yL09DZQpoUmwwYWlHSWJFSXpBd21UMzZEenhCdkJlQURuSjFwdWlMNmR4cWQrbmVGNGZxY0lyVGtOczVWemhUbGg5WW1nCmdYKyt2a1Y5VXlib2NtcjI2Z0UrSjJNVy9QRWNZQWVuNnEwK0kxc0ExYUJock1xVG9EN0JzMVZJU0doK2xLK2kKT2w0M0VwTE5EdUdTNmVUOHBvaDkyVXFCU054UUU2VzhoOHR0VjdENlZTZ3dWTmtESS9RaVRBPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
      service:
        name: kong-controller-validation-webhook
        namespace: kong
    failurePolicy: Ignore
    matchPolicy: Equivalent
    name: validations.kong.konghq.com
    objectSelector:
      matchExpressions:
        - key: owner
          operator: NotIn
          values:
            - helm
    rules:
      - apiGroups:
          - configuration.konghq.com
        apiVersions:
          - '*'
        operations:
          - CREATE
          - UPDATE
        resources:
          - kongconsumers
          - kongplugins
          - kongclusterplugins
          - kongingresses
      - apiGroups:
          - ""
        apiVersions:
          - v1
        operations:
          - CREATE
          - UPDATE
        resources:
          - services
      - apiGroups:
          - networking.k8s.io
        apiVersions:
          - v1
        operations:
          - CREATE
          - UPDATE
        resources:
          - ingresses
      - apiGroups:
          - gateway.networking.k8s.io
        apiVersions:
          - v1alpha2
          - v1beta1
          - v1
        operations:
          - CREATE
          - UPDATE
        resources:
          - gateways
          - httproutes
    sideEffects: None
